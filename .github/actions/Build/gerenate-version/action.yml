name: 'Version Build'
description: 'Monta a versão e os nomes dos artefatos de build'

inputs:
  run_number:
    description: 'Numero do Build'
    required: true

outputs:
  version:
    description: 'Número da Versão do Build'
    value: ${{ steps.versao_build.outputs.version }}
  artifact-name:
    description: 'Nome do artefato'
    value: ${{ steps.versao_build.outputs.artifact-name }}

runs:
  using: 'composite'
  steps:
    - name: versao_build
      shell: bash
      run: |
        VERSION="v1.0.${{ inputs.run_number }}"
        ARTIFACT_NAME="build-$VERSION"
        echo "version=$VERSION" >> $GITHUB_OUTPUT
        echo "artifact-name=$ARTIFACT_NAME" >> $GITHUB_OUTPUT
        echo "✅ Build version: $VERSION"
