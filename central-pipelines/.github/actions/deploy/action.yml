name: 'Deploy Application'
description: 'Action composta para deploy de aplica√ß√µes'
inputs:
  environment:
    description: 'Ambiente de deploy'
    required: true
  artifact-name:
    description: 'Nome do artifact'
    required: true
  version:
    description: 'Vers√£o a deployar'
    required: true
  deploy-url:
    description: 'URL do ambiente'
    required: false
    default: ''

runs:
  using: 'composite'
  steps:
    - name: Validar artifact
      shell: bash
      run: |
        echo "üì¶ Validando artifact..."
        if [ ! -f ./build/build-info.txt ]; then
          echo "‚ùå Erro: build-info.txt n√£o encontrado!"
          exit 1
        fi
        echo "‚úÖ Artifact validado!"

    - name: Exibir build info
      shell: bash
      run: |
        echo "================================================"
        echo "üìã INFORMA√á√ïES DO BUILD"
        echo "================================================"
        cat ./build/build-info.txt
        echo "================================================"

    - name: Deploy
      shell: bash
      run: |
        echo "üöÄ Deploy para ${{ inputs.environment }}"
        echo "   Vers√£o: ${{ inputs.version }}"
        echo "   Artifact: ${{ inputs.artifact-name }}"
        
        if [ -n "${{ inputs.deploy-url }}" ]; then
          echo "   URL: ${{ inputs.deploy-url }}"
        fi
        
        # Adicione aqui sua l√≥gica de deploy
        
        echo "‚úÖ Deploy conclu√≠do!"
